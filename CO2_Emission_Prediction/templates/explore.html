<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore CO2 Emissions Data</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        .chart-container {
            margin-bottom: 40px;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .info-card {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .section-title {
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #28a745;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">CO2 Emissions Predictor</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/predict">Predict</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/explore">Explore Data</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <h1 class="text-center mb-5">Explore CO2 Emissions Data</h1>
        
        <div class="row mb-4">
            <div class="col-lg-8 offset-lg-2">
                <div class="info-card">
                    <h3>About the Data</h3>
                    <p>This visualization explores CO2 emissions data sourced from the World Bank's World Development Indicators. The charts below provide insights into historical emission trends among major countries and the factors that contribute to emissions levels.</p>
                    <p>Our machine learning model uses this historical data along with other economic and demographic indicators to make predictions about future emissions.</p>
                </div>
            </div>
        </div>
        
        <!-- Historical Trends Chart -->
        <h2 class="section-title">Historical CO2 Emissions Trends</h2>
        <div class="row">
            <div class="col-lg-12">
                <div class="chart-container">
                    <div id="timeSeriesChart"></div>
                </div>
            </div>
        </div>
        
        <!-- Country Comparison Chart -->
        <h2 class="section-title">Country Comparison</h2>
        <div class="row">
            <div class="col-lg-12">
                <div class="chart-container">
                    <div id="countryComparisonChart"></div>
                </div>
            </div>
        </div>
        
        <!-- Insights Section -->
        <div class="row mt-5">
            <div class="col-md-6">
                <div class="info-card">
                    <h3>Key Insights</h3>
                    <ul>
                        <li>China has become the world's largest CO2 emitter, with emissions more than tripling since 2000.</li>
                        <li>The United States has seen a gradual decrease in emissions since 2007.</li>
                        <li>India's emissions have been steadily increasing, reflecting its economic growth.</li>
                        <li>The top 5 emitting countries account for over 60% of global CO2 emissions.</li>
                    </ul>
                </div>
            </div>
            <div class="col-md-6">
                <div class="info-card">
                    <h3>Contributing Factors</h3>
                    <p>Our analysis shows that CO2 emissions are influenced by several key factors:</p>
                    <ul>
                        <li><strong>GDP:</strong> Economic growth typically correlates with higher emissions</li>
                        <li><strong>Population:</strong> Larger populations generally mean higher total emissions</li>
                        <li><strong>Energy Mix:</strong> Countries relying heavily on coal tend to have higher emissions</li>
                        <li><strong>Industrial Activity:</strong> Manufacturing-focused economies often have higher emissions</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-5 mb-5">
            <a href="/predict" class="btn btn-success btn-lg">Make a Prediction</a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white mt-5 py-4">
        <div class="container text-center">
            <p>Â© 2025 CO2 Emissions Predictor | Machine Learning Project</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Plotly.js chart initialization -->
    <script>
        // Parse the JSON charts data from Flask
        var chart1 = JSON.parse('{{ chart1JSON | safe }}');
        var chart2 = JSON.parse('{{ chart2JSON | safe }}');
        
        // Create the charts
        Plotly.newPlot('timeSeriesChart', chart1.data, chart1.layout);
        Plotly.newPlot('countryComparisonChart', chart2.data, chart2.layout);
    </script>
</body>
</html>